{"remainingRequest":"/Users/sjacobs/git/k8dash-pages/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sjacobs/git/k8dash-pages/docs/.vuepress/theme/global-components/CommunityCallForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sjacobs/git/k8dash-pages/docs/.vuepress/theme/global-components/CommunityCallForm.vue","mtime":1609216209250},{"path":"/Users/sjacobs/git/k8dash-pages/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sjacobs/git/k8dash-pages/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/sjacobs/git/k8dash-pages/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sjacobs/git/k8dash-pages/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCmltcG9ydCB7IFZhbGlkYXRpb25Qcm92aWRlciwgVmFsaWRhdGlvbk9ic2VydmVyLCBleHRlbmQgfSBmcm9tICd2ZWUtdmFsaWRhdGUnCmltcG9ydCB7IHJlcXVpcmVkLCBlbWFpbCB9IGZyb20gJ3ZlZS12YWxpZGF0ZS9kaXN0L3J1bGVzJwoKLy8gSSBhbSBkb2luZyB0aGlzIGJlY2F1c2Ugb2YgYW4gZXJyb3IgdGhhdCBvY2N1cnJlZCB3aGVuIHVzaW5nIEtJY29uCmltcG9ydCBTcGlubmVyIGZyb20gJ0B0aGVtZS9nbG9iYWwtY29tcG9uZW50cy9JY29uU3Bpbm5lcicKCi8vIHJlcXVpcmVkIHZhbGlkYXRpb24KZXh0ZW5kKCdyZXF1aXJlZCcsIHsKICAuLi5yZXF1aXJlZCwKICBtZXNzYWdlOiAnVGhpcyBmaWVsZCBpcyByZXF1aXJlZC4nCn0pCgovLyBlbWFpbCB2YWxpZGF0aW9uCmV4dGVuZCgnZW1haWwnLCB7CiAgLi4uZW1haWwsCiAgbWVzc2FnZTogJ1RoaXMgbXVzdCBiZSBhIHZhbGlkIGVtYWlsJwp9KQoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtRGF0YTogewogICAgICAgIGVtYWlsOiAnJywKICAgICAgICB1dG1fY29udGVudDogdGhpcy4kcm91dGUucXVlcnkudXRtX2NvbnRlbnQgfHwgbnVsbCwKICAgICAgICB1dG1fbWVkaXVtOiB0aGlzLiRyb3V0ZS5xdWVyeS51dG1fbWVkaXVtIHx8IG51bGwsCiAgICAgICAgdXRtX3NvdXJjZTogdGhpcy4kcm91dGUucXVlcnkudXRtX3NvdXJjZSB8fCBudWxsLAogICAgICAgIHV0bV9jYW1wYWlnbjogdGhpcy4kcm91dGUucXVlcnkudXRtX2NhbXBhaWduIHx8IG51bGwsCiAgICAgICAgdXRtX3Rlcm06IHRoaXMuJHJvdXRlLnF1ZXJ5LnV0bV90ZXJtIHx8IG51bGwsCiAgICAgICAgdXRtX2FkX2dyb3VwOiB0aGlzLiRyb3V0ZS5xdWVyeS51dG1fYWRfZ3JvdXAgfHwgbnVsbAogICAgICB9LAogICAgICBmb3JtU3RhdHVzOiBudWxsLAogICAgICBmb3JtU2VuZGluZzogZmFsc2UKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFZhbGlkYXRpb25Qcm92aWRlciwKICAgIFZhbGlkYXRpb25PYnNlcnZlciwKICAgIFNwaW5uZXIKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKHsKICAgICAgZm9ybUVuZHBvaW50OiAnZ2V0Q29tbXVuaXR5Q2FsbEZvcm1FbmRwb2ludCcsCiAgICAgIGFnZW5kYTogJ2dldENvbW11bml0eUNhbGxBZ2VuZGFVcmwnLAogICAgICBpbnZpdGU6ICdnZXRDb21tdW5pdHlDYWxsSW52aXRlJwogICAgfSksCiAgICBmb3JtRGlzdGFuY2VGcm9tVG9wICgpIHsKICAgICAgY29uc3QgbWFya2VyID0gdGhpcy4kcmVmc1snZm9ybU1lc3NhZ2VNYXJrZXInXQoKICAgICAgcmV0dXJuIHdpbmRvdy5wYWdlWU9mZnNldCArIG1hcmtlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5mb3JtQmVoYXZpb3JIYW5kbGVyKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGZvcm1CZWhhdmlvckhhbmRsZXIgKCkgewogICAgICBjb25zdCBxdWVyeSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmZvcm1fc3VjY2VzcwogICAgICBjb25zdCBzdGF0dXMgPSBxdWVyeSA/IEpTT04ucGFyc2UocXVlcnkpIDogbnVsbAoKICAgICAgdGhpcy5mb3JtU3RhdHVzID0gc3RhdHVzCgogICAgICBpZiAoc3RhdHVzID09PSBmYWxzZSB8fCBzdGF0dXMgPT09IHRydWUpIHsKICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oewogICAgICAgICAgdG9wOiB0aGlzLmZvcm1EaXN0YW5jZUZyb21Ub3AsCiAgICAgICAgICBiZWhhdmlvcjogJ2F1dG8nCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKCiAgICBmb3JtSXNTdWJtaXR0aW5nKCkgewogICAgICB0aGlzLmZvcm1TZW5kaW5nID0gdHJ1ZQogICAgfSwKICB9Cn0K"},{"version":3,"sources":["CommunityCallForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"CommunityCallForm.vue","sourceRoot":"docs/.vuepress/theme/global-components","sourcesContent":["<template>\n  <div class=\"form-wrapper\">\n\n    <validation-observer\n      v-slot=\"{ invalid, passes }\"\n    >\n      <form\n        v-if=\"formStatus === null || formStatus === false\"\n        class=\"form-horizontal\"\n        method=\"post\"\n        :action=\"formEndpoint\"\n      >\n        <input\n          v-for=\"(key, value) in formData\"\n          v-if=\"value !== 'email'\"\n          :name=\"value\"\n          :value=\"key\"\n          type=\"hidden\"\n        />\n        <input type=\"hidden\" name=\"pardot-link\" :value=\"formEndpoint\">\n        <label for=\"input_email\" class=\"sr-only\">Email</label>\n        <validation-provider rules=\"required|email\" v-slot=\"{ errors }\">\n          <input v-model=\"formData.email\" id=\"email\" name=\"email\" type=\"email\" placeholder=\"Email\" />\n          <span class=\"note note--error\">{{ errors[0] }}</span>\n        </validation-provider>\n        <button \n          :disabled=\"invalid\"\n          type=\"submit\"\n          name=\"submit\"\n          class=\"btn\"\n          :class=\"{ 'is-sending': (invalid === false && formSending === true) }\"\n          @click=\"formIsSubmitting()\"\n        >\n          <span v-if=\"invalid === false && formSending === true\">\n            <Spinner />\n          </span>\n          <span :class=\"{ 'is-hidden': (invalid === false && formSending === true) }\">\n            Register Now\n          </span>\n        </button>\n      </form>\n    </validation-observer>\n\n    <div ref=\"formMessageMarker\"></div>\n\n    <div v-if=\"formStatus === true\" class=\"tip custom-block\">\n      <p class=\"custom-block-title\">Thank you!</p>\n      <p>\n        We've received your request to register for the upcoming Community Call.\n        Thank you for your interest in {{ getSiteData.title }}!\n      </p>\n      <ul class=\"inline-list\">\n        <li>\n          <a :href=\"agenda\" target=\"_blank\">\n            <span class=\"icon\">üìù</span>  Agenda\n          </a>\n        </li>\n        <li>\n          <a :href=\"invite\" target=\"_blank\">\n            <span class=\"icon\">üìÖ</span> Add to Your Calendar\n          </a>\n        </li>\n      </ul>\n    </div>\n\n    <div v-if=\"formStatus === false\" class=\"danger custom-block\">\n      <p class=\"custom-block-title\">Whoops!</p>\n      <p>Something went wrong! Please try again later.</p>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport axios from 'axios'\nimport { ValidationProvider, ValidationObserver, extend } from 'vee-validate'\nimport { required, email } from 'vee-validate/dist/rules'\n\n// I am doing this because of an error that occurred when using KIcon\nimport Spinner from '@theme/global-components/IconSpinner'\n\n// required validation\nextend('required', {\n  ...required,\n  message: 'This field is required.'\n})\n\n// email validation\nextend('email', {\n  ...email,\n  message: 'This must be a valid email'\n})\n\nexport default {\n  data() {\n    return {\n      formData: {\n        email: '',\n        utm_content: this.$route.query.utm_content || null,\n        utm_medium: this.$route.query.utm_medium || null,\n        utm_source: this.$route.query.utm_source || null,\n        utm_campaign: this.$route.query.utm_campaign || null,\n        utm_term: this.$route.query.utm_term || null,\n        utm_ad_group: this.$route.query.utm_ad_group || null\n      },\n      formStatus: null,\n      formSending: false\n    }\n  },\n  components: {\n    ValidationProvider,\n    ValidationObserver,\n    Spinner\n  },\n  computed: {\n    ...mapGetters({\n      formEndpoint: 'getCommunityCallFormEndpoint',\n      agenda: 'getCommunityCallAgendaUrl',\n      invite: 'getCommunityCallInvite'\n    }),\n    formDistanceFromTop () {\n      const marker = this.$refs['formMessageMarker']\n\n      return window.pageYOffset + marker.getBoundingClientRect().top\n    }\n  },\n  mounted () {\n    this.formBehaviorHandler()\n  },\n  methods: {\n    formBehaviorHandler () {\n      const query = this.$route.query.form_success\n      const status = query ? JSON.parse(query) : null\n\n      this.formStatus = status\n\n      if (status === false || status === true) {\n        window.scrollTo({\n          top: this.formDistanceFromTop,\n          behavior: 'auto'\n        })\n      }\n    },\n\n    formIsSubmitting() {\n      this.formSending = true\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../styles/custom/config/variables';\n\n.note {\n  margin-top: 10px !important;\n}\n\n.form-wrapper .custom-block {\n  box-shadow: 0 0 0 1px #cccccc, 0 3px 6px 0 #eaecef;\n  padding: 20px;\n  // border-left: 0;\n\n  // success\n  &.tip {\n    background-color: #fff;\n  }\n\n  // error\n  &.danger {\n\n  }\n}\n\nbutton.is-sending {\n  position: relative;\n  background-color: $green-base !important;\n  cursor: not-allowed;\n\n  span:not(.is-hidden) {\n    display: block;\n    position: absolute;\n    left: calc(50% - 12px);\n  }\n}\n\n.is-hidden {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.form-wrapper {\n    \n  form {\n    border-radius: 0;\n    overflow: visible;\n  }\n}\n\n.inline-list {\n  display: block;\n  overflow: hidden;\n  list-style: none;\n  margin: 10px 0 0 0 !important;\n  padding: 0;\n\n  li {\n    display: inline-block;\n\n    &:not(:last-of-type) {\n      border-right: 1px solid #ccc;\n      margin-right: 8px;\n      padding-right: 10px;\n    }\n  }\n\n  a {\n    display: block;\n  }\n\n  .icon {\n    display: inline-block;\n    margin: 0 5px 0 0;\n  }\n}\n</style>"]}]}
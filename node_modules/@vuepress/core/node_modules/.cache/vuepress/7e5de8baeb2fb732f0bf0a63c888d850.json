{"remainingRequest":"/Users/sjacobs/git/k8dash-pages/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/sjacobs/git/k8dash-pages/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sjacobs/git/k8dash-pages/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sjacobs/git/k8dash-pages/docs/.vuepress/theme/global-components/NewsletterForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sjacobs/git/k8dash-pages/docs/.vuepress/theme/global-components/NewsletterForm.vue","mtime":1609216209251},{"path":"/Users/sjacobs/git/k8dash-pages/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sjacobs/git/k8dash-pages/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/sjacobs/git/k8dash-pages/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sjacobs/git/k8dash-pages/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3NqYWNvYnMvZ2l0L2s4ZGFzaC1wYWdlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgVmFsaWRhdGlvblByb3ZpZGVyLCBWYWxpZGF0aW9uT2JzZXJ2ZXIsIGV4dGVuZCB9IGZyb20gJ3ZlZS12YWxpZGF0ZSc7CmltcG9ydCB7IHJlcXVpcmVkLCBlbWFpbCB9IGZyb20gJ3ZlZS12YWxpZGF0ZS9kaXN0L3J1bGVzJzsgLy8gSSBhbSBkb2luZyB0aGlzIGJlY2F1c2Ugb2YgYW4gZXJyb3IgdGhhdCBvY2N1cnJlZCB3aGVuIHVzaW5nIEtJY29uCgppbXBvcnQgU3Bpbm5lciBmcm9tICdAdGhlbWUvZ2xvYmFsLWNvbXBvbmVudHMvSWNvblNwaW5uZXInOyAvLyByZXF1aXJlZCB2YWxpZGF0aW9uCgpleHRlbmQoJ3JlcXVpcmVkJywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZXF1aXJlZCksIHt9LCB7CiAgbWVzc2FnZTogJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQuJwp9KSk7IC8vIGVtYWlsIHZhbGlkYXRpb24KCmV4dGVuZCgnZW1haWwnLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGVtYWlsKSwge30sIHsKICBtZXNzYWdlOiAnVGhpcyBtdXN0IGJlIGEgdmFsaWQgZW1haWwnCn0pKTsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtRGF0YTogewogICAgICAgIGVtYWlsOiAnJywKICAgICAgICB1dG1fY29udGVudDogdGhpcy4kcm91dGUucXVlcnkudXRtX2NvbnRlbnQgfHwgbnVsbCwKICAgICAgICB1dG1fbWVkaXVtOiB0aGlzLiRyb3V0ZS5xdWVyeS51dG1fbWVkaXVtIHx8IG51bGwsCiAgICAgICAgdXRtX3NvdXJjZTogJ2t1bWEtaG9tZXBhZ2UnLAogICAgICAgIHV0bV9jYW1wYWlnbjogdGhpcy4kcm91dGUucXVlcnkudXRtX2NhbXBhaWduIHx8IG51bGwsCiAgICAgICAgdXRtX3Rlcm06IHRoaXMuJHJvdXRlLnF1ZXJ5LnV0bV90ZXJtIHx8IG51bGwsCiAgICAgICAgdXRtX2FkX2dyb3VwOiB0aGlzLiRyb3V0ZS5xdWVyeS51dG1fYWRfZ3JvdXAgfHwgbnVsbAogICAgICB9LAogICAgICBmb3JtU3RhdHVzOiBudWxsLAogICAgICBmb3JtU2VuZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBWYWxpZGF0aW9uUHJvdmlkZXI6IFZhbGlkYXRpb25Qcm92aWRlciwKICAgIFZhbGlkYXRpb25PYnNlcnZlcjogVmFsaWRhdGlvbk9ic2VydmVyLAogICAgU3Bpbm5lcjogU3Bpbm5lcgogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ2dldE5ld3NsZXR0ZXJGb3JtRW5kcG9pbnQnXSkpLCB7fSwgewogICAgZm9ybURpc3RhbmNlRnJvbVRvcDogZnVuY3Rpb24gZm9ybURpc3RhbmNlRnJvbVRvcCgpIHsKICAgICAgdmFyIG1hcmtlciA9IHRoaXMuJHJlZnNbJ2Zvcm1NZXNzYWdlTWFya2VyJ107CiAgICAgIHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQgKyBtYXJrZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOwogICAgfQogIH0pLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmZvcm1CZWhhdmlvckhhbmRsZXIoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZvcm1CZWhhdmlvckhhbmRsZXI6IGZ1bmN0aW9uIGZvcm1CZWhhdmlvckhhbmRsZXIoKSB7CiAgICAgIHZhciBxdWVyeSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmZvcm1fc3VjY2VzczsKICAgICAgdmFyIHN0YXR1cyA9IHF1ZXJ5ID8gSlNPTi5wYXJzZShxdWVyeSkgOiBudWxsOwogICAgICB0aGlzLmZvcm1TdGF0dXMgPSBzdGF0dXM7CgogICAgICBpZiAoc3RhdHVzID09PSBmYWxzZSB8fCBzdGF0dXMgPT09IHRydWUpIHsKICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oewogICAgICAgICAgdG9wOiB0aGlzLmZvcm1EaXN0YW5jZUZyb21Ub3AsCiAgICAgICAgICBiZWhhdmlvcjogJ2F1dG8nCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBmb3JtSXNTdWJtaXR0aW5nOiBmdW5jdGlvbiBmb3JtSXNTdWJtaXR0aW5nKCkgewogICAgICB0aGlzLmZvcm1TZW5kaW5nID0gdHJ1ZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["NewsletterForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,kBAAA,EAAA,kBAAA,EAAA,MAAA,QAAA,cAAA;AACA,SAAA,QAAA,EAAA,KAAA,QAAA,yBAAA,C,CAEA;;AACA,OAAA,OAAA,MAAA,sCAAA,C,CAEA;;AACA,MAAA,CAAA,UAAA,kCACA,QADA;AAEA,EAAA,OAAA,EAAA;AAFA,GAAA,C,CAKA;;AACA,MAAA,CAAA,OAAA,kCACA,KADA;AAEA,EAAA,OAAA,EAAA;AAFA,GAAA;AAKA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,WAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,WAAA,IAAA,IAFA;AAGA,QAAA,UAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,UAAA,IAAA,IAHA;AAIA,QAAA,UAAA,EAAA,eAJA;AAKA,QAAA,YAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,YAAA,IAAA,IALA;AAMA,QAAA,QAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,IAAA,IANA;AAOA,QAAA,YAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,YAAA,IAAA;AAPA,OADA;AAUA,MAAA,UAAA,EAAA,IAVA;AAWA,MAAA,WAAA,EAAA;AAXA,KAAA;AAaA,GAfA;AAgBA,EAAA,UAAA,EAAA;AACA,IAAA,kBAAA,EAAA,kBADA;AAEA,IAAA,kBAAA,EAAA,kBAFA;AAGA,IAAA,OAAA,EAAA;AAHA,GAhBA;AAqBA,EAAA,QAAA,kCACA,UAAA,CAAA,CACA,2BADA,CAAA,CADA;AAIA,IAAA,mBAJA,iCAIA;AACA,UAAA,MAAA,GAAA,KAAA,KAAA,CAAA,mBAAA,CAAA;AAEA,aAAA,MAAA,CAAA,WAAA,GAAA,MAAA,CAAA,qBAAA,GAAA,GAAA;AACA;AARA,IArBA;AA+BA,EAAA,OA/BA,qBA+BA;AACA,SAAA,mBAAA;AACA,GAjCA;AAkCA,EAAA,OAAA,EAAA;AACA,IAAA,mBADA,iCACA;AACA,UAAA,KAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,YAAA;AACA,UAAA,MAAA,GAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,GAAA,IAAA;AAEA,WAAA,UAAA,GAAA,MAAA;;AAEA,UAAA,MAAA,KAAA,KAAA,IAAA,MAAA,KAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,UAAA,GAAA,EAAA,KAAA,mBADA;AAEA,UAAA,QAAA,EAAA;AAFA,SAAA;AAIA;AACA,KAbA;AAeA,IAAA,gBAfA,8BAeA;AACA,WAAA,WAAA,GAAA,IAAA;AACA;AAjBA;AAlCA,CAAA","sourcesContent":["<template>\n  <div class=\"form-wrapper\">\n\n    <validation-observer\n      v-slot=\"{ invalid, passes }\"\n    >\n      <form\n        v-if=\"formStatus === null || formStatus === false\"\n        class=\"form-horizontal\"\n        method=\"post\"\n        :action=\"getNewsletterFormEndpoint\"\n      >\n        <input\n          v-for=\"(key, value) in formData\"\n          v-if=\"value !== 'email'\"\n          :name=\"value\"\n          :value=\"key\"\n          type=\"hidden\"\n        />\n        <input type=\"hidden\" name=\"pardot-link\" :value=\"getNewsletterFormEndpoint\">\n        <label for=\"input_email\" class=\"sr-only\">Email</label>\n        <validation-provider rules=\"required|email\" v-slot=\"{ errors }\" class=\"form-note-wrapper\">\n          <input v-model=\"formData.email\" id=\"email\" name=\"email\" type=\"email\" placeholder=\"Work Email\" />\n          <span class=\"note note--error\">{{ errors[0] }}</span>\n        </validation-provider>\n        <button \n          :disabled=\"invalid\"\n          type=\"submit\"\n          name=\"submit\"\n          class=\"btn\"\n          :class=\"{ 'is-sending': (invalid === false && formSending === true) }\"\n          @click=\"formIsSubmitting()\"\n        >\n          <span v-if=\"invalid === false && formSending === true\">\n            <Spinner />\n          </span>\n          <span :class=\"{ 'is-hidden': (invalid === false && formSending === true) }\">\n            Join Newsletter\n          </span>\n        </button>\n      </form>\n    </validation-observer>\n\n    <div ref=\"formMessageMarker\"></div>\n\n    <div v-if=\"formStatus === true\" class=\"tip custom-block\">\n      <p class=\"custom-block-title\">Thank you!</p>\n      <p>You're now signed up for the {{ getSiteData.title }} newsletter.</p>\n    </div>\n\n    <div v-if=\"formStatus === false\" class=\"danger custom-block\">\n      <p class=\"custom-block-title\">Whoops!</p>\n      <p>Something went wrong! Please try again later.</p>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport axios from 'axios'\nimport { ValidationProvider, ValidationObserver, extend } from 'vee-validate'\nimport { required, email } from 'vee-validate/dist/rules'\n\n// I am doing this because of an error that occurred when using KIcon\nimport Spinner from '@theme/global-components/IconSpinner'\n\n// required validation\nextend('required', {\n  ...required,\n  message: 'This field is required.'\n})\n\n// email validation\nextend('email', {\n  ...email,\n  message: 'This must be a valid email'\n})\n\nexport default {\n  data() {\n    return {\n      formData: {\n        email: '',\n        utm_content: this.$route.query.utm_content || null,\n        utm_medium: this.$route.query.utm_medium || null,\n        utm_source: 'kuma-homepage',\n        utm_campaign: this.$route.query.utm_campaign || null,\n        utm_term: this.$route.query.utm_term || null,\n        utm_ad_group: this.$route.query.utm_ad_group || null\n      },\n      formStatus: null,\n      formSending: false\n    }\n  },\n  components: {\n    ValidationProvider,\n    ValidationObserver,\n    Spinner\n  },\n  computed: {\n    ...mapGetters([\n      'getNewsletterFormEndpoint'\n    ]),\n    formDistanceFromTop () {\n      const marker = this.$refs['formMessageMarker']\n\n      return window.pageYOffset + marker.getBoundingClientRect().top\n    }\n  },\n  mounted () {\n    this.formBehaviorHandler()\n  },\n  methods: {\n    formBehaviorHandler () {\n      const query = this.$route.query.form_success\n      const status = query ? JSON.parse(query) : null\n\n      this.formStatus = status\n\n      if (status === false || status === true) {\n        window.scrollTo({\n          top: this.formDistanceFromTop,\n          behavior: 'auto'\n        })\n      }\n    },\n\n    formIsSubmitting() {\n      this.formSending = true\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../styles/custom/config/variables';\n\n.form-note-wrapper {\n  position: relative;\n\n  .note {\n    position: absolute;\n    top: 100%; left: 0;\n    z-index: 1;\n    width: 100%;\n  }\n}\n\n\nbutton.is-sending {\n  position: relative;\n  background-color: $green-base !important;\n  cursor: not-allowed;\n\n  span:not(.is-hidden) {\n    display: block;\n    position: absolute;\n    left: calc(50% - 12px);\n  }\n}\n\n.is-hidden {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.form-wrapper .custom-block {\n  box-shadow: 0 0 0 1px #cccccc, 0 3px 6px 0 #eaecef;\n  padding: 20px;\n  text-align: left;\n  // border-left: 0;\n\n  // success\n  &.tip {\n    background-color: #fff;\n  }\n\n  // error\n  &.danger {\n\n  }\n\n  p {\n\n    &:first-of-type {\n      margin-top: 0;\n      padding-top: 0;\n    }\n\n    &:last-of-type {\n      margin-bottom: 0;\n      padding-bottom: 0;\n    }\n  }\n}\n</style>"],"sourceRoot":"docs/.vuepress/theme/global-components"}]}